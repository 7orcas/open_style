<section>
    
    <div style="width:100%;">
        

        <div id="scroller-anchor-sidebaraction"></div> 
        <div id="scroller-sidebaraction">

            <div id="rptshow" class="rpt-show" style="display:none;z-index:2010"><a href="" data-ng-click="show()" style="color:grey;"><i class="fa fa-arrow-circle-o-down fa-fw"></i> {{label('RptShow');}}</a></div>
            <div id="rpthide" class="rpt-hide" style="display:none;z-index:2000"><a href="" data-ng-click="hide()" style="color:grey;"><i class="fa fa-arrow-circle-o-up fa-fw"></i> {{label('RptHide');}}</a></div>

            <div class="so7rs" id="rptsels">
                <div class="so7rrb">
                    <button type="submit" class="btn so7rb" id="btnRun" ng-click="runReport()">{{label('RptRun')}}</button>
                </div>        

                <div id="dropout" class="so7rfs" ui-on-Drop="onDrop($event,$data,fields)">
                    <div class="rpt-box">{{label('RptFields')}}</div>
                    <div ui-draggable="true" drag="sel"
                        class="so1df"
                        on-drop-success="_dshx($event,$index,fields)"
                        ng-dblclick="addCategory(sel)"
                        ng-repeat="sel in fields track by $index">
                        {{label(sel)}}
                    </div>
                </div>

                <div id="dropin" class="so7rcs" ui-on-Drop="onDrop($event,$data,columns)">
                    <div class="rpt-box">{{label('RptColumns')}}</div>
                    <div ui-draggable="true" drag="sel" 
                        class="so1dt"
                        ui-on-Drop="onDropX($event,$data,columns,$index)"
                        on-drop-success="_dshx($event,$index,columns)"
                        ng-dblclick="removeCategory(sel)"
                        ng-repeat="sel in columns track by $index">
                        {{$index+1}}. {{label(sel)}}
                    </div>
                </div>


                <div class="so7rf">
                    <div class="so7rfl">{{label('Filter');}}</div>                
                    <div class="report">

                        <div class="rpt-row">
                            <div class="so7lab">{{label('Prep.MS');}}</div>
                            <div class="so7selcb">
                                 <input class="so7selcb form-control" 
                                       type="checkbox" 
                                       ng-model="fMissing"
                                       >
                            </div>
                        </div>

                        <div class="rpt-row" ng-show="showMatType()">
                            <div class="so7lab">{{label('MatT');}}</div>
                            <div class="so7sel">
                                <select class="so7sel"  
                                        data-ng-model="fMatType" 
                                        data-ng-options="p.value for p in mattypes"></select>
                            </div>
                        </div>

                        <div class="rpt-row" ng-show="showShip()">
                            <div class="so7lab">{{label('MatSup');}}</div>
                            <div class="so7sel">
                                <input class="so7sel lookup-search form-control" 
                                       type="text" 
                                       ng-model="fSupplier"
                                       autocomplete="off"
                                       maxlength="10"
                                       typeahead="item.l for item in lookupSup($viewValue)"
                                       typeahead-loading="loadingLookup" 
                                       >
                            </div>
                        </div>
                        
                        <div class="rpt-row" ng-show="showReqType()">
                            <div class="so7lab">{{label('ReqType');}}</div>
                            <div class="so7sel">
                                <select class="so7sel"  
                                        data-ng-model="fReqType" 
                                        data-ng-options="p.value for p in reqtypes"></select>
                            </div>
                        </div>

                        <div class="rpt-row" ng-show="showMat()">
                            <div class="so7lab">{{label('MatC');}}</div>
                            <div class="so7sel">
                                <input class="so7sel lookup-search form-control" 
                                       type="text" 
                                       ng-model="fMaterial"
                                       autocomplete="off"
                                       maxlength="10"
                                       typeahead="item.l for item in lookupMaterial($viewValue)"
                                       typeahead-loading="loadingLookup" 
                                       >
                            </div>
                        </div>

                        <div class="rpt-row" ng-show="showStyle()">
                            <div class="so7lab">{{label('Style');}}</div>
                            <div class="so7sel">
                                <input class="so7sel lookup-search form-control" 
                                       type="text" 
                                       ng-model="fStyle"
                                       autocomplete="off"
                                       maxlength="10"
                                       typeahead="item.l for item in lookupStyle($viewValue)"
                                       typeahead-loading="loadingLookup" 
                                       >
                            </div>
                        </div>

                        <div class="rpt-row" ng-show="showColor()">
                            <div class="so7lab">{{label('Color');}}</div>
                            <div class="so7sel">
                                <input class="so7sel lookup-search form-control" 
                                       type="text" 
                                       ng-model="fColor"
                                       autocomplete="off"
                                       maxlength="10"
                                       >
                            </div>
                        </div>

                        <div class="rpt-row" ng-show="showMould()">
                            <div class="so7lab">{{label('Mould');}}</div>
                            <div class="so7sel">
                                <input class="so7sel lookup-search form-control" 
                                       type="text" 
                                       ng-model="fMould"
                                       autocomplete="off"
                                       maxlength="10"
                                       typeahead="item.l for item in lookupMould($viewValue)"
                                       typeahead-loading="loadingLookup" 
                                       >
                            </div>
                        </div>

                        <div class="rpt-row" ng-show="showMouldGrp()">
                            <div class="so7lab">{{label('Mould.Gc');}}</div>
                            <div class="so7sel">
                                <input class="so7sel lookup-search form-control" 
                                       type="text" 
                                       ng-model="fMouldGrp"
                                       autocomplete="off"
                                       maxlength="10"
                                       typeahead="item.l for item in lookupMouldGrp($viewValue)"
                                       typeahead-loading="loadingLookup" 
                                       >
                            </div>
                        </div>

                        <div class="rpt-row" ng-show="showSourceId()">
                            <div class="so7lab">{{label('SourceC');}}</div>
                            <div class="so7sel">
                                <input class="so7sel lookup-search form-control" 
                                       type="text" 
                                       ng-model="fSourceId"
                                       autocomplete="off"
                                       maxlength="20"
                                       >
                            </div>
                        </div>


                    </div>
                </div>
                
                <div class="so7ex" data-ng-click="exportSS()"><a class="so0i" href="">{{label('ExportSS');}}</a></div>
                        
            </div>
          
        </div>
        
        <div class="so7rr" id="rptresult">
            <div data-ng-include src="getViewLink()"></div>
        </div>   
        
    </div>



</section>